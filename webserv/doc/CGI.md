## CGI 탄생배경

CGI는 정적, 단방향웹 => 동적 양방향을 통신수행함
웹의 편리성 => 이전의 모든 서비스(Mail, FTP등)를 웹을 통해 제공받길 원함

이런 서비스들은 독자적인 프로토콜 하에서 동작하므로..
HTTP => 특정 통신규약 => HTTP의 변환 과정을 거쳐야 한다.

이렇게 서로 다른 프로토콜을 연동시키는 것을 소프트웨어 게이트웨이라고 한다.
이러한 게이트웨이의 표준안이 CGI이다.
즉 CGI는 서로다른 프로토콜을 연동하는 표준안인 셈이다.

이 CGI표준을 따라서 만들어진 프로그램을 CGI프로그램 또는 CGI 스크립트라고 한다.

## CGI 명세

### 급 정리

웹 서버는 요청된 URL이 어떤 종류의 파일인가를 분석한 후, CGI 프로그램일 경우
요청 헤더에 포함된 상태정보를 환경변수로 설정하고 나서 CGI 프로그램을 실행시키게 된다.

=> 웹 서버로 날아온 URL은 무조건 어떤 리소스를 가리키는 지를 판단해야 한다.
=> 다만, 리소스가 아닌 CGI프로그램일 경우도 있다.
=> 이런경우 해당 URL의 CGI프로그램이하의 구간을 CGI 환경변수에 넣어줘야 한다.

## CGI 프로그램

CGI			  : 입출력을 정의한 게이트웨이의 표준안
CGI프로그램		: 표준안에 따라 작성한 프로그램
CGI스크립트		: 컴파일없이 바로실행할 수 있는 CGI프로그램
/api/script/upload
C/C++, Fortran등과 같은 컴파일언어는 수행시간면에서 잇점이 있지만
매번 프로그램을 컴파일 해야한다는 점 때문에 스크립트 언어가 CGI 프로그래밍 언어로 많이 사용됨.

## CGI Meta-variable 일부 정리

- PATH_INFO : CGI 스크립트에 의해 해석될 경로를 지정.
	- 풀 경로 혹은 cgi스크립트 하위 uri를 지정하는데,,,
	- 서브젝트에서는 Cgi스크립트를 직접 호출하지 않으므로 full path를 사용하라고 되어있다.
		- execve 함수는 cgi스크립트를 직접 호출하는 것이 아닌 복사된 프로세스를 대체하는 방식이므로... 디렉토리가 일치하지 않게 된다.
			- A프로그램에서 execve()를 통해 다른 디렉토리의 B프로그램을 실행하고 B에서 현재 디렉토리를 찍어봤는데 A디렉토리가 찍혔다.
		- 따라서 디렉토리가 일치하지 않아도 상관없는 절대경로, full path를 사용하라는 것.
	- 즉 이번 subject에서는 PATH_INFO == REQUEST_URI이다.

- CONTENT_LENGTH
- CONTENT_TYPE
- QUERY_STRING
	- REQUEST URI중 ? 뒷 부분만 짤라내어 key=value 꼴로 저장한다.
- REQUEST_METHOD, REQUEST_URI는 생략.
- SCRIPT_NAME : 서버 디렉토리에서 스크립트
